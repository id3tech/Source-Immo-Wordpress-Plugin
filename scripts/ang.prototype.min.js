if(void 0===String.format&&(String.prototype.format=function(){let lResult=this.toString();for(var i=0;i<arguments.length;i++){let lArgValue="";null!=arguments[i]&&(lArgValue=arguments[i].toString());let lRegExp=new RegExp("\\{"+i.toString()+"\\}","g");lResult=lResult.replace(lRegExp,lArgValue)}let lRegExp=/\{\d+\}/g;return lResult=lResult.replace(lRegExp,"")}),void 0===Number.formatPrice&&(Number.prototype.formatPrice=function($currency){let lValue=this;$currency=null==$currency?"":$currency;let lResult=(lValue=Math.round(100*lValue)/100).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1 ");return lResult="${0}".translate().format(lResult)}),void 0===Number.formatRank&&(Number.prototype.formatRank=function(){let lValue=this,lFormat="{0}th";switch(lValue%10){case 1:lFormat="{0}st";break;case 2:lFormat="{0}nd";break;case 3:lFormat="{0}rd"}return lResult=lFormat.translate().format(lValue),lResult}),void 0===String.translate){var $locales={};!function locales($scope){$scope.supported_languages=["fr","en"],$scope._current_lang_="",$scope.file_path="",$scope.init=function($used_language){console.log("translate support",$used_language),$scope.supported_languages.forEach(function($l){$scope[$l]={}}),$scope._current_lang_=$used_language},$scope.load=function($files,$domain){void 0===$files.push&&($files=[$files]),void 0===$domain&&($domain="global"),$files.forEach(function($f){$scope.loadJSON($f,function($response){$scope[$scope._current_lang_][$domain]=$scope.merge_data($scope[$scope._current_lang_][$domain],$response)})})},$scope.merge_data=function(obj1,obj2){var obj3={};for(var attrname in obj1)obj3[attrname]=obj1[attrname];for(var attrname in obj2)obj3[attrname]=obj2[attrname];return obj3},$scope.loadJSON=function(filePath,success,error){let xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){xhr.readyState===XMLHttpRequest.DONE&&(200===xhr.status?success&&success(JSON.parse(xhr.responseText)):error&&error(xhr))},xhr.open("GET",filePath,!0),xhr.send()}}($locales),String.prototype.translate=function($domain,$lang){if(null!=$locales){if($domain=void 0===$domain?"global":$domain,$lang=void 0===$lang?$locales._current_lang_:$lang,$key=this.toString(),$lang in $locales)if($domain in $locales[$lang]){if($key in $locales[$lang][$domain])return $locales[$lang][$domain][$key]}else if($key in $locales[$lang])return $locales[$lang][$key]}else console.log("$locales is undefined");return $key}}void 0===Number.between&&(Number.prototype.between=function($lower,$upper){return this>=$lower&&this<=$upper}),void 0===Date.addMonths&&(Date.prototype.round=function(){let lResult;return new Date(this.getFullYear(),this.getMonth(),this.getDate())},Date.prototype.addHours=function($value){let lResult=new Date(this.getTime());return lResult.setTime(lResult.getTime()+60*$value*60*1e3),lResult},Date.prototype.addMonths=function($value){let lResult=new Date(this.getTime());return lResult.setMonth(lResult.getMonth()+$value),lResult},Date.prototype.addDays=function($value){let lResult=new Date(this.getTime());return lResult.setDate(lResult.getDate()+$value),lResult},Date.prototype.addYears=function($value){let lResult=new Date(this.getTime());return lResult.setFullYear(lResult.getFullYear()+$value),lResult});